<?xml version="1.0" encoding="utf-8"?>
<odoo>
  <data>
    <template id="report_sheet">
      <t t-call="web.html_container">
        <t t-call="dws_dae_custom.external_layout_daed">
          <div class="page">
            <h2>
              <span t-esc="result['employee'].name"/>
              -
              <span t-esc="result['period_start']"/>
            </h2>
            <br/>

            <div t-if="result['approver']">
              <strong>Customer:</strong>
              <span t-esc="result['approver'].commercial_company_name"/>
            </div>
            <div t-if="result['approver']">
              <strong>Approver:</strong>
              <span t-esc="result['approver'].name"/>
            </div>
            <div>
              <strong>Tasks:</strong>
            </div>
            <t t-foreach="result['tasks']" t-as="task">
              <div>
                <t t-esc="task"/>
                <t t-esc="task_value"/>
              </div>
            </t>
            <br/>
            <table class="table table-condensed">
              <thead>
                <tr>
                  <t t-foreach="result['lines_head']" t-as="head">
                    <th t-esc="head"></th>
                  </t>
                </tr>
              </thead>
              <tbody>
                <tr t-foreach="result['lines']" t-as="line">
                  <t t-foreach="line" t-as="line_field">
                    <td>
                      <span t-esc="line_field"/>
                    </td>
                  </t>
                </tr>
              </tbody>
            </table>
            <div style="page-break-inside: avoid">
              <div t-if="result['employee_id']">Approver ID:
                <t t-esc="result['employee_id']"></t>
              </div>
              <img t-if="result['imgbase64']" alt="Embedded Image"
                   t-attf-src="data:image/png;base64,#{result['imgbase64']}"/>
            </div>
          </div>
        </t>

      </t>
    </template>
    <report id="custom_report_sheet"
            model="employee.sheet"
            string="Employee Sheet"
            menu="False"
            report_type="qweb-html"
            name="dws_dae_custom.report_sheet"
            file="dws_dae_custom.report_sheet"
            print_report_name="'Report Sheet - %s ' % object.display_name"/>
            <!--'Report Sheet - %s ' % object.display_name-->
            <!--'%s_%s_%s' % (object.startdate, object.user_id.name, object.result['approver'].name)-->
  </data>
</odoo>